<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,height=device-height,initial-scale=1"><style>*{box-sizing:border-box}body{margin:0;padding:.5em}.block{display:block;width:100%;margin-bottom:.5em}.status{opacity:.8;font-size:.875em;white-space:pre-wrap}</style></head><body><div class="block"><p>This will load the content from the selected source.</p><div class="block"><label>Source:</label> <select id="source" disabled="disabled"><option value="url" selected="selected">URL</option><option value="local">Local</option></select></div><hr><div id="url" class="block"><input class="block" placeholder="URL to the file..."> <button type="button" onclick="window.fromURL(); return false;" disabled="disabled">Load</button></div><div id="local" class="block" style="display:none"><button type="button" onclick="window.fromLocal(); return false;" disabled="disabled">Browse</button></div><hr><div class="block status">No message.</div></div><script defer="defer">(()=>{const e=window.Helper,t=document.getElementById("source"),n=document.getElementById("url"),l=n.getElementsByTagName("input")[0],a=n.getElementsByTagName("button")[0],o=document.getElementById("local"),d=o.getElementsByTagName("button")[0],i=document.getElementsByClassName("status")[0];e(((e,s,c)=>{let r;const u=e=>{i.textContent="Pushing...";const t=(new TextEncoder).encode(e).length;s.call("newoutput",{data:e}).finally((()=>{i.textContent="Pushed "+t+" byte"+(t>1?"s":"")+".",a.disabled=d.disabled=!1}))};window.fromURL=function(e){l.value=e=e??l.value,t.value="url",t.dispatchEvent(new Event("change")),i.textContent="GETting the data...",a.disabled=d.disabled=!0,s.call("fetch",e,{method:"GET",type:"text"}).then((t=>{if(!t)throw new Error("No content to load.");u(t.body),r={type:"url",url:e}})).catch((e=>{i.textContent="Cannot GET the data. "+e,a.disabled=d.disabled=!1}))},window.fromLocal=function(e){t.value="local",t.dispatchEvent(new Event("change")),i.textContent=e?"Loading the file...":"Browsing...",a.disabled=d.disabled=!0,(e?s.call("readfileabsolute",e,"utf8").then((t=>{if(!t)throw new Error("No content to load.");u(t),r={type:"file",file:e}})):s.call("readfilefrom",!1,"utf8","Load File From...").then((e=>{if(!e)throw new Error("No content to load.");u(e.data),r={type:"file",file:e.fullPath}}))).catch((e=>{i.textContent="Cannot load the file. "+e,a.disabled=d.disabled=!1}))},t.addEventListener("change",(function(){"local"===this.value?(o.style.display="block",n.style.display="none"):(n.style.display="block",o.style.display="none")})),e.bind("backup",(()=>r||[])),e.bind("restore",(e=>{"url"===e.type?window.fromURL(e.url):"file"===e.type&&window.fromLocal(e.file)})),t.disabled=!1,a.disabled=!1,d.disabled=!1}))})();</script></body></html>